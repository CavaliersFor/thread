webpackJsonp([8],{0:function(t,n,a){t.exports=a(38)},38:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,a,i){return a&&t(n.prototype,a),i&&t(n,i),n}}(),r=a(1),u=i(r),c=a(3),l=a(5);a(69);var s=function(){function t(){e(this,t),this.productId=globalData.productId,this.carBox,this.init()}return o(t,[{key:"init",value:function(){var t=this;this.initSwiper(),this.initExpress(),this.initEvent(),this.getCartNum(),(0,l.getItemDetail)(this.productId).then(function(n){var a=[n.data.product,n.data.productSkus];t.product=a[0],t.productSkus=a[1]})}},{key:"initSwiper",value:function(){new c.Swiper(".js-top-swiper",{pagination:".swiper-pagination",loop:!0,autoplay:3e3})}},{key:"initExpress",value:function(){if(console.log(globalData),globalData.ecPrice){var t=globalData.ecPrice.split(";")[0].split(":")[1].split(",")[0];(0,u["default"])(".js-express-price").html("ï¿¥"+t)}}},{key:"initEvent",value:function(){var t=this;(0,u["default"])(document).on("click",".js-addcart",function(n){var a=(0,u["default"])(n.currentTarget),i=a.data("type");t.carBox||t.initShopCart(),t.carBox.show(c.AddToCar[i],t.product,t.productSkus)}).on("click",".js-to-combine",function(t){var n=(0,u["default"])(t.currentTarget),a=n.data("id");window.location="/product/combinationProdDetail?id="+a})}},{key:"initShopCart",value:function(){this.carBox=new c.AddToCar,this.carBox.on("add",function(t){var n=(0,u["default"])(".js-cart-num"),a=+n.html();a+=t.num,n.html(a)})}},{key:"getCartNum",value:function(){(0,l.getListCart)().then(function(t){var n=(0,u["default"])(".js-cart-num"),a=0;t.data.carts&&t.data.carts.forEach(function(t){a+=t.num}),n.text(a)})}}]),t}();(0,u["default"])(function(){new s})},69:function(t,n){}});
//# sourceMappingURL=itemdetail.a0a480124ce689fabd7b.js.map