{"version":3,"sources":["webpack:///tradelist.fc13cf68619259c088d8.js","webpack:///./assets/pages/tradelist/index.js","webpack:///./assets/pages/tradelist/trade.tpl"],"names":["webpackJsonp","0","module","exports","__webpack_require__","42","_interopRequireDefault","obj","__esModule","default","getStatusLabel","status","statusMap","getRefundStatusLabel","refundStatus","refundStatusMap","calcTotalNum","orders","num","forEach","order","fecthTradeList","$loading","_jquery2","removeClass","_tradeApi","getTradeList","currentStatus","currentPageNo","then","res","addClass","renderTradeList","_responseUtil","handleError","tpl","_template2","compile","_trade2","isLoadingList","page","hasNext","hasLoadDone","append","LayzrUpdate","replaceTrade","$trade","data","list","replaceWith","showTradeDetail","tid","window","location","href","cancelTrade","$btn","closeTrade","parents","showSuccessTip","msg","remove","receiveGoods","confirmReceiptGoods","setTimeout","reload","_jquery","_fastclick","_template","_tradeUtil","_trade","PAGESIZE","1","2","3","4","5","6","7","8","9","10","11","val","helper","document","on","e","currentTarget","payTrade","stopPropagation","Confirm","title","content","confirm","cancel","lid","onScrollToBottom","73","88"],"mappings":"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","file":"tradelist.fc13cf68619259c088d8.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(42);\n\n\n/***/ },\n\n/***/ 42:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _fastclick = __webpack_require__(14);\n\t\n\tvar _fastclick2 = _interopRequireDefault(_fastclick);\n\t\n\tvar _template = __webpack_require__(2);\n\t\n\tvar _template2 = _interopRequireDefault(_template);\n\t\n\t__webpack_require__(3);\n\t\n\tvar _tradeApi = __webpack_require__(7);\n\t\n\tvar _responseUtil = __webpack_require__(4);\n\t\n\tvar _tradeUtil = __webpack_require__(13);\n\t\n\tvar _trade = __webpack_require__(88);\n\t\n\tvar _trade2 = _interopRequireDefault(_trade);\n\t\n\t__webpack_require__(73);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar PAGESIZE = 10;\n\tvar isLoadingList = false;\n\tvar hasLoadDone = false;\n\tvar currentPageNo = 1;\n\tvar currentStatus = void 0;\n\tvar statusMap = {\n\t\t1: '待付款',\n\t\t2: '待付款',\n\t\t3: '部分发货',\n\t\t4: '待发货',\n\t\t5: '已发货',\n\t\t6: '已签收',\n\t\t7: '交易成功',\n\t\t8: '已关闭',\n\t\t9: '已关闭',\n\t\t10: '待付款确认中付款',\n\t\t11: '0元购合约中'\n\t};\n\tvar refundStatusMap = {\n\t\t1: '已申请退款，等待卖家同意',\n\t\t2: '已同意退款，等待买家退货',\n\t\t3: '已退货，等待卖家确认收货',\n\t\t4: '卖家拒绝退款',\n\t\t5: '退款关闭',\n\t\t6: '退款成功'\n\t};\n\t\n\t(0, _jquery2.default)(function () {\n\t\n\t\t// 初始化获取数据\n\t\thasLoadDone = (0, _jquery2.default)('input[name=\"hasLoadDone\"]').val() <= PAGESIZE;\n\t\tcurrentStatus = (0, _jquery2.default)('input[name=\"status\"]').val();\n\t\n\t\t// register helper\n\t\t_template2.default.helper('getStatusLabel', getStatusLabel);\n\t\t_template2.default.helper('calcTotalNum', calcTotalNum);\n\t\t_template2.default.helper('getRefundStatusLabel', getRefundStatusLabel);\n\t\n\t\t(0, _jquery2.default)(document).on('click', '.js-trade', function (e) {\n\t\t\tshowTradeDetail((0, _jquery2.default)(e.currentTarget));\n\t\t}).on('click', '.js-pay-trade', function (e) {\n\t\t\t(0, _tradeUtil.payTrade)((0, _jquery2.default)(e.currentTarget));\n\t\t\te.stopPropagation();\n\t\t}).on('click', '.js-close-trade', function (e) {\n\t\t\tvar $btn = (0, _jquery2.default)(e.currentTarget);\n\t\n\t\t\t_jquery2.default.Confirm({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定取消订单吗？',\n\t\t\t\tconfirm: function confirm() {\n\t\t\t\t\tcancelTrade($btn);\n\t\t\t\t},\n\t\t\t\tcancel: function cancel() {}\n\t\t\t});\n\t\t\te.stopPropagation();\n\t\t}).on('click', '.js-show-logicinfo', function (e) {\n\t\t\tvar $btn = (0, _jquery2.default)(e.currentTarget);\n\t\t\tvar lid = $btn.data('lid');\n\t\n\t\t\twindow.location.href = 'https://m.kuaidi100.com/result.jsp?nu=' + lid;\n\t\t\te.stopPropagation();\n\t\t}).on('click', '.js-confirm-get', function (e) {\n\t\t\tvar $btn = (0, _jquery2.default)(e.currentTarget);\n\t\n\t\t\t_jquery2.default.Confirm({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定确认收货吗？',\n\t\t\t\tconfirm: function confirm() {\n\t\t\t\t\treceiveGoods($btn);\n\t\t\t\t},\n\t\t\t\tcancel: function cancel() {}\n\t\t\t});\n\t\t\te.stopPropagation();\n\t\t});\n\t\n\t\t// 下拉到底部刷新列表\n\t\t(0, _jquery2.default)(window).onScrollToBottom(function () {\n\t\t\tif (!hasLoadDone && !isLoadingList) {\n\t\t\t\tisLoadingList = true;\n\t\t\t\tfecthTradeList();\n\t\t\t}\n\t\t});\n\t});\n\t\n\tfunction getStatusLabel(status) {\n\t\treturn statusMap[status];\n\t}\n\t\n\tfunction getRefundStatusLabel(refundStatus) {\n\t\treturn refundStatusMap[refundStatus];\n\t}\n\t\n\tfunction calcTotalNum(orders) {\n\t\tvar num = 0;\n\t\n\t\torders.forEach(function (order) {\n\t\t\tnum += order.num;\n\t\t});\n\t\n\t\treturn num;\n\t}\n\t\n\tfunction fecthTradeList() {\n\t\tvar $loading = (0, _jquery2.default)('.js-loading-box');\n\t\n\t\t$loading.removeClass('z-hidden');\n\t\t(0, _tradeApi.getTradeList)(currentStatus, ++currentPageNo).then(function (res) {\n\t\t\t$loading.addClass('z-hidden');\n\t\t\trenderTradeList(res);\n\t\t}, _responseUtil.handleError);\n\t}\n\t\n\tfunction renderTradeList(res) {\n\t\tvar tpl = _template2.default.compile(_trade2.default)(res);\n\t\n\t\tisLoadingList = false;\n\t\tif (!res.page.hasNext) {\n\t\t\thasLoadDone = true;\n\t\t\t(0, _jquery2.default)('.js-loaded-all').removeClass('z-hidden');\n\t\t}\n\t\n\t\t(0, _jquery2.default)('#tradelistWrapper').append(tpl);\n\t\t_jquery2.default.LayzrUpdate();\n\t}\n\t\n\tfunction replaceTrade($trade, data) {\n\t\tvar tpl = _template2.default.compile(_trade2.default)({\n\t\t\tlist: [data]\n\t\t});\n\t\n\t\t$trade.replaceWith(tpl);\n\t\t_jquery2.default.LayzrUpdate();\n\t}\n\t\n\tfunction showTradeDetail($trade) {\n\t\tvar tid = $trade.data('tid');\n\t\n\t\twindow.location.href = '/trade/detail?tradeId=' + tid;\n\t}\n\t\n\tfunction cancelTrade($btn) {\n\t\tvar tid = $btn.data('tid');\n\t\n\t\t(0, _tradeApi.closeTrade)(tid).then(function (res) {\n\t\t\tvar $trade = $btn.parents('.js-trade');\n\t\n\t\t\t(0, _responseUtil.showSuccessTip)(res.msg);\n\t\t\tif (!currentStatus) {\n\t\t\t\treplaceTrade($trade, res.data);\n\t\t\t} else {\n\t\t\t\t$trade.remove();\n\t\t\t}\n\t\t}, _responseUtil.handleError);\n\t}\n\t\n\tfunction receiveGoods($btn) {\n\t\tvar tid = $btn.data('tid');\n\t\n\t\t(0, _tradeApi.confirmReceiptGoods)(tid).then(function (res) {\n\t\t\t(0, _responseUtil.showSuccessTip)(res.msg);\n\t\t\tsetTimeout(function () {\n\t\t\t\twindow.location.reload();\n\t\t\t}, 1500);\n\t\t}, _responseUtil.handleError);\n\t}\n\n/***/ },\n\n/***/ 73:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 88:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"{{each list as $trade i}} <div class=\\\"tradelist-item js-trade\\\" data-tid={{$trade.trade.id}}> <div class=tradelist-header> <a class=show-info href=/index> <img data-normal={{$trade.trade.headPicUrl}} alt=\\\"\\\"> <span>{{$trade.trade.shopName}}</span> </a> <span class=\\\"trade-status js-trade-status\\\">{{$trade.trade.status | getStatusLabel}}</span> </div> <div class=itemlist> {{each $trade.list as $item k}} <div class=\\\"itemlist-item checkbox small\\\"> <a class=itemlist-pic href=javascript:void(0);> <img data-normal={{$item.productPicPath}}> </a> <div class=itemlist-detail> <span class=itemlist-title href=\\\"\\\">{{$item.productName}}</span> <div class=itemlist-sku> <span>{{$item.propertiesname}}</span> </div> </div> <div class=itemlist-vertical-price> <span>¥{{$item.totalRealPrice}}</span> {{if $item.totalPrice && $item.totalPrice !== $item.totalRealPrice}} <span>¥{{$item.totalPrice}}</span> {{/if}} <span>x{{$item.num}}</span> </div> </div> {{/each}} </div> <div class=tradelist-summary> 共{{$trade.list | calcTotalNum}}件商品 合计 : ¥ {{$trade.trade.realPrice}} {{if $trade.trade.expressPrice > 0}} (含运费 ¥{{$trade.trade.expressPrice}}) {{/if}} </div> <div class=tradelist-actions> {{if $trade.status === 1 || $trade.status === 2}} <a class=\\\"action-btn js-close-trade\\\" data-tid={{$trade.trade.id}}>取消订单</a> <a class=\\\"action-btn js-pay-trade\\\" data-tid={{trade.trade.id}} data-tradeno={{trade.trade.tradeNo}} data-shopname={{trade.trade.shopName}} data-realprice={{trade.trade.realPrice}}>付款</a> {{/if}} {{if $trade.status === 3 || $trade.status === 4}} {{/if}} {{if ($trade.status === 3 || $trade.status === 5 || $trade.status === 6 || $trade.status === 7) && $trade.distributionMode == 1}} <a class=\\\"action-btn js-show-logicinfo\\\" data-lid={{trade.trade.expressNo}}>查看物流</a> {{/if}} {{if $trade.status === 5}} <a class=\\\"action-btn js-confirm-get\\\" data-tid={{$trade.trade.id}}>确认收货</a> {{/if}} </div> </div> {{/each}}\";\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** tradelist.fc13cf68619259c088d8.js\n **/","import $ from 'jquery';\nimport FastClick from 'fastclick';\nimport template from 'art-template/dist/template';\nimport 'component';\nimport {\n\tgetTradeList,\n\tcloseTrade,\n\tconfirmReceiptGoods\n} from '../../api/trade-api';\nimport {\n\thandleError,\n\tshowSuccessTip\n} from '../../utils/response-util.js';\nimport {\n\tpayTrade\n} from '../../utils/trade-util.js';\nimport tradeTpl from './trade';\nimport './style';\n\nconst PAGESIZE = 10;\nlet isLoadingList = false;\nlet hasLoadDone = false;\nlet currentPageNo = 1;\nlet currentStatus;\nconst statusMap = {\n\t1: '待付款',\n\t2: '待付款',\n\t3: '部分发货',\n\t4: '待发货',\n\t5: '已发货',\n\t6: '已签收',\n\t7: '交易成功',\n\t8: '已关闭',\n\t9: '已关闭',\n\t10: '待付款确认中付款',\n\t11: '0元购合约中'\n};\nconst refundStatusMap = {\n\t1: '已申请退款，等待卖家同意',\n\t2: '已同意退款，等待买家退货',\n\t3: '已退货，等待卖家确认收货',\n\t4: '卖家拒绝退款',\n\t5: '退款关闭',\n\t6: '退款成功'\n};\n\n\n$(() => {\n\t\n\t// 初始化获取数据\n\thasLoadDone = $('input[name=\"hasLoadDone\"]').val() <= PAGESIZE;\n\tcurrentStatus = $('input[name=\"status\"]').val();\n\n\t// register helper\n\ttemplate.helper('getStatusLabel', getStatusLabel);\n\ttemplate.helper('calcTotalNum', calcTotalNum);\n\ttemplate.helper('getRefundStatusLabel', getRefundStatusLabel);\n\n\t$(document).on('click', '.js-trade', e => {\n\t\tshowTradeDetail($(e.currentTarget));\n\t})\n\t.on('click', '.js-pay-trade', e => {\n\t\tpayTrade($(e.currentTarget));\n\t\te.stopPropagation();\n\t})\n\t.on('click', '.js-close-trade', e => {\n\t\tconst $btn = $(e.currentTarget);\n\n\t\t$.Confirm({\n\t\t\ttitle: '提示',\n\t\t\tcontent: '确定取消订单吗？',\n\t\t\tconfirm: () => {\n\t\t\t\tcancelTrade($btn);\n\t\t\t},\n\t\t\tcancel: () => {}\n\t\t});\n\t\te.stopPropagation();\n\t})\n\t.on('click', '.js-show-logicinfo', e => {\n\t\tconst $btn = $(e.currentTarget);\n\t\tconst lid = $btn.data('lid');\n\n\t\twindow.location.href = `https://m.kuaidi100.com/result.jsp?nu=${lid}`;\n\t\te.stopPropagation();\n\t})\n\t.on('click', '.js-confirm-get', e => {\n\t\tconst $btn = $(e.currentTarget);\n\t\t\n\t\t$.Confirm({\n\t\t\ttitle: '提示',\n\t\t\tcontent: '确定确认收货吗？',\n\t\t\tconfirm: () => {\n\t\t\t\treceiveGoods($btn);\n\t\t\t},\n\t\t\tcancel: () => {}\n\t\t});\n\t\te.stopPropagation();\n\t})\n\n\t// 下拉到底部刷新列表\n\t$(window).onScrollToBottom(() => {\n\t\tif (!hasLoadDone && !isLoadingList) {\n\t\t\tisLoadingList = true;\n\t\t\tfecthTradeList();\n\t\t}\n\t});\n});\n\nfunction getStatusLabel(status) {\n\treturn statusMap[status];\n}\n\nfunction getRefundStatusLabel(refundStatus) {\n\treturn refundStatusMap[refundStatus];\n}\n\nfunction calcTotalNum(orders) {\n\tlet num = 0;\n\n\torders.forEach(order => {\n\t\tnum += order.num;\n\t});\n\n\treturn num;\n}\n\nfunction fecthTradeList() {\n\tconst $loading = $('.js-loading-box');\n\n\t$loading.removeClass('z-hidden');\n\tgetTradeList(currentStatus, ++currentPageNo).then(res => {\n\t\t$loading.addClass('z-hidden');\n\t\trenderTradeList(res);\n\t}, handleError);\n}\n\nfunction renderTradeList(res) {\n\tconst tpl = template.compile(tradeTpl)(res);\n\n\tisLoadingList = false;\n\tif (!res.page.hasNext) {\n\t\thasLoadDone = true;\n\t\t$('.js-loaded-all').removeClass('z-hidden');\n\t}\n\n\t$('#tradelistWrapper').append(tpl);\n\t$.LayzrUpdate();\n}\n\nfunction replaceTrade($trade, data) {\n\tconst tpl = template.compile(tradeTpl)({\n\t\tlist: [data]\n\t});\n\n\t$trade.replaceWith(tpl);\n\t$.LayzrUpdate();\n}\n\nfunction showTradeDetail($trade) {\n\tconst tid = $trade.data('tid');\n\n\twindow.location.href = `/trade/detail?tradeId=${tid}`;\n}\n\nfunction cancelTrade($btn) {\n\tconst tid = $btn.data('tid');\n\n\tcloseTrade(tid).then(res => {\n\t\tconst $trade = $btn.parents('.js-trade');\n\n\t\tshowSuccessTip(res.msg);\n\t\tif(!currentStatus) {\n\t\t\treplaceTrade($trade, res.data)\n\t\t} else {\n\t\t\t$trade.remove();\n\t\t}\n\t}, handleError);\n}\n\nfunction receiveGoods($btn) {\n\tconst tid = $btn.data('tid');\n\t\n\tconfirmReceiptGoods(tid).then(res => {\n\t\tshowSuccessTip(res.msg);\n\t\tsetTimeout(() => {\n\t\t\twindow.location.reload();\n\t\t}, 1500);\n\t}, handleError);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./assets/pages/tradelist/index.js\n **/","module.exports = \"{{each list as $trade i}} <div class=\\\"tradelist-item js-trade\\\" data-tid={{$trade.trade.id}}> <div class=tradelist-header> <a class=show-info href=/index> <img data-normal={{$trade.trade.headPicUrl}} alt=\\\"\\\"> <span>{{$trade.trade.shopName}}</span> </a> <span class=\\\"trade-status js-trade-status\\\">{{$trade.trade.status | getStatusLabel}}</span> </div> <div class=itemlist> {{each $trade.list as $item k}} <div class=\\\"itemlist-item checkbox small\\\"> <a class=itemlist-pic href=javascript:void(0);> <img data-normal={{$item.productPicPath}}> </a> <div class=itemlist-detail> <span class=itemlist-title href=\\\"\\\">{{$item.productName}}</span> <div class=itemlist-sku> <span>{{$item.propertiesname}}</span> </div> </div> <div class=itemlist-vertical-price> <span>¥{{$item.totalRealPrice}}</span> {{if $item.totalPrice && $item.totalPrice !== $item.totalRealPrice}} <span>¥{{$item.totalPrice}}</span> {{/if}} <span>x{{$item.num}}</span> </div> </div> {{/each}} </div> <div class=tradelist-summary> 共{{$trade.list | calcTotalNum}}件商品 合计 : ¥ {{$trade.trade.realPrice}} {{if $trade.trade.expressPrice > 0}} (含运费 ¥{{$trade.trade.expressPrice}}) {{/if}} </div> <div class=tradelist-actions> {{if $trade.status === 1 || $trade.status === 2}} <a class=\\\"action-btn js-close-trade\\\" data-tid={{$trade.trade.id}}>取消订单</a> <a class=\\\"action-btn js-pay-trade\\\" data-tid={{trade.trade.id}} data-tradeno={{trade.trade.tradeNo}} data-shopname={{trade.trade.shopName}} data-realprice={{trade.trade.realPrice}}>付款</a> {{/if}} {{if $trade.status === 3 || $trade.status === 4}} {{/if}} {{if ($trade.status === 3 || $trade.status === 5 || $trade.status === 6 || $trade.status === 7) && $trade.distributionMode == 1}} <a class=\\\"action-btn js-show-logicinfo\\\" data-lid={{trade.trade.expressNo}}>查看物流</a> {{/if}} {{if $trade.status === 5}} <a class=\\\"action-btn js-confirm-get\\\" data-tid={{$trade.trade.id}}>确认收货</a> {{/if}} </div> </div> {{/each}}\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/pages/tradelist/trade.tpl\n ** module id = 88\n ** module chunks = 3\n **/"],"sourceRoot":""}