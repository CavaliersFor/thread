{"version":3,"sources":["webpack:///tradedetail.dfb0da222802e51e8c84.js","webpack:///./assets/pages/tradedetail/index.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","41","_interopRequireDefault","obj","__esModule","default","reloadTrade","setTimeout","window","location","reload","cancelTrade","$btn","tid","data","_tradeApi","closeTrade","then","res","$trade","parents","_responseUtil","showSuccessTip","msg","find","text","parent","remove","handleError","receiveGoods","confirmReceiptGoods","askForRefund","reason","oid","applyRefund","replaceWith","_jquery","_jquery2","_tradeUtil","document","on","e","payTrade","currentTarget","Confirm","title","content","confirm","cancel","lid","href","stopPropagation","Propt","event","72"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAASC,EAAQC,EAASC,GAE/BF,EAAOC,QAAUC,EAAoB,KAKhCC,GACA,SAASH,EAAQC,EAASC,GAE/B,YAgBA,SAASE,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GCqCxF,QAASG,KACRC,WAAW,WACVC,OAAOC,SAASC,UACd,MAGJ,QAASC,GAAYC,GACpB,GAAMC,GAAMD,EAAKE,KAAK,QAEtB,EAAAC,EAAAC,YAAWH,GAAKI,KAAK,SAAAC,GACpB,GAAMC,GAASP,EAAKQ,QAAQ,cAE5B,EAAAC,EAAAC,gBAAeJ,EAAIK,KACnBJ,EAAOK,KAAK,oBAAoBC,KAAK,OACrCb,EAAKc,SAASC,UALfN,EAAAO,aASD,QAASC,GAAajB,GACrB,GAAMC,GAAMD,EAAKE,KAAK,QAEtB,EAAAC,EAAAe,qBAAoBjB,GAAKI,KAAK,SAAAC,IAC7B,EAAAG,EAAAC,gBAAeJ,EAAIK,KACnBjB,KAFDe,EAAAO,aAMD,QAASG,GAAanB,EAAMoB,GAC3B,GAAMC,GAAMrB,EAAKE,KAAK,QAEtB,EAAAC,EAAAmB,aAAYD,EAAKD,GAAQf,KAAK,SAAAC,IAC7B,EAAAG,EAAAC,gBAAeJ,EAAIK,KACnBX,EAAKuB,YAAY,oDAFlBd,EAAAO,aAhGD,GAAAQ,GAAApC,EAAA,GDiBKqC,EAAWnC,EAAuBkC,EChBvCpC,GAAA,EACA,IAAAe,GAAAf,EAAA,GAKAqB,EAAArB,EAAA,GAIAsC,EAAAtC,EAAA,GAGAA,GAAA,KAEA,EAAAqC,cAAE,YAGD,EAAAA,cAAEE,UAAUC,GAAG,QAAS,gBAAiB,SAAAC,IACxC,EAAAH,EAAAI,WAAS,EAAAL,cAAEI,EAAEE,kBAEbH,GAAG,QAAS,kBAAmB,SAAAC,GAC/B,GAAM7B,IAAO,EAAAyB,cAAEI,EAAEE,cAEjBN,cAAEO,SACDC,MAAO,KACPC,QAAS,WACTC,QAAS,WACRpC,EAAYC,IAEboC,OAAQ,iBAGTR,GAAG,QAAS,qBAAsB,SAAAC,GAClC,GAAM7B,IAAO,EAAAyB,cAAEI,EAAEE,eACXM,EAAMrC,EAAKE,KAAK,MAEtBN,QAAOC,SAASyC,KAAhB,yCAAgED,EAChER,EAAEU,oBAEFX,GAAG,QAAS,kBAAmB,SAAAC,GAC/B,GAAM7B,IAAO,EAAAyB,cAAEI,EAAEE,cAEjBN,cAAEO,SACDC,MAAO,KACPC,QAAS,WACTC,QAAS,WACRlB,EAAajB,IAEdoC,OAAQ,iBAGTR,GAAG,QAAS,mBAAoB,SAAAC,GAChC,GAAM7B,IAAO,EAAAyB,cAAEI,EAAEE,cAEjBN,cAAEe,OACDP,MAAO,UACPE,QAAS,SAACM,EAAOrB,GAChBD,EAAanB,EAAMoB,IAEpBgB,OAAQ,oBDsDLM,GACA,SAASxD,EAAQC","file":"tradedetail.dfb0da222802e51e8c84.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(41);\n\n\n/***/ },\n\n/***/ 41:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(3);\n\t\n\tvar _tradeApi = __webpack_require__(7);\n\t\n\tvar _responseUtil = __webpack_require__(4);\n\t\n\tvar _tradeUtil = __webpack_require__(13);\n\t\n\t__webpack_require__(72);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(0, _jquery2.default)(function () {\n\t\n\t\t// 订单操作\n\t\t(0, _jquery2.default)(document).on('click', '.js-pay-trade', function (e) {\n\t\t\t(0, _tradeUtil.payTrade)((0, _jquery2.default)(e.currentTarget));\n\t\t}).on('click', '.js-close-trade', function (e) {\n\t\t\tvar $btn = (0, _jquery2.default)(e.currentTarget);\n\t\n\t\t\t_jquery2.default.Confirm({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定取消订单吗？',\n\t\t\t\tconfirm: function confirm() {\n\t\t\t\t\tcancelTrade($btn);\n\t\t\t\t},\n\t\t\t\tcancel: function cancel() {}\n\t\t\t});\n\t\t}).on('click', '.js-show-logicinfo', function (e) {\n\t\t\tvar $btn = (0, _jquery2.default)(e.currentTarget);\n\t\t\tvar lid = $btn.data('lid');\n\t\n\t\t\twindow.location.href = 'https://m.kuaidi100.com/result.jsp?nu=' + lid;\n\t\t\te.stopPropagation();\n\t\t}).on('click', '.js-confirm-get', function (e) {\n\t\t\tvar $btn = (0, _jquery2.default)(e.currentTarget);\n\t\n\t\t\t_jquery2.default.Confirm({\n\t\t\t\ttitle: '提示',\n\t\t\t\tcontent: '确定确认收货吗？',\n\t\t\t\tconfirm: function confirm() {\n\t\t\t\t\treceiveGoods($btn);\n\t\t\t\t},\n\t\t\t\tcancel: function cancel() {}\n\t\t\t});\n\t\t}).on('click', '.js-apply-refund', function (e) {\n\t\t\tvar $btn = (0, _jquery2.default)(e.currentTarget);\n\t\n\t\t\t_jquery2.default.Propt({\n\t\t\t\ttitle: '请填写退款原因',\n\t\t\t\tconfirm: function confirm(event, reason) {\n\t\t\t\t\taskForRefund($btn, reason);\n\t\t\t\t},\n\t\t\t\tcancel: function cancel() {}\n\t\t\t});\n\t\t});\n\t});\n\t\n\tfunction reloadTrade() {\n\t\tsetTimeout(function () {\n\t\t\twindow.location.reload();\n\t\t}, 1500);\n\t}\n\t\n\tfunction cancelTrade($btn) {\n\t\tvar tid = $btn.data('tid');\n\t\n\t\t(0, _tradeApi.closeTrade)(tid).then(function (res) {\n\t\t\tvar $trade = $btn.parents('.js-trade');\n\t\n\t\t\t(0, _responseUtil.showSuccessTip)(res.msg);\n\t\t\t$trade.find('.js-trade-status').text('已关闭');\n\t\t\t$btn.parent().remove();\n\t\t}, _responseUtil.handleError);\n\t}\n\t\n\tfunction receiveGoods($btn) {\n\t\tvar tid = $btn.data('tid');\n\t\n\t\t(0, _tradeApi.confirmReceiptGoods)(tid).then(function (res) {\n\t\t\t(0, _responseUtil.showSuccessTip)(res.msg);\n\t\t\treloadTrade();\n\t\t}, _responseUtil.handleError);\n\t}\n\t\n\tfunction askForRefund($btn, reason) {\n\t\tvar oid = $btn.data('oid');\n\t\n\t\t(0, _tradeApi.applyRefund)(oid, reason).then(function (res) {\n\t\t\t(0, _responseUtil.showSuccessTip)(res.msg);\n\t\t\t$btn.replaceWith('<div class=\"itemlist-status\">已申请退款，等待卖家同意</div>');\n\t\t}, _responseUtil.handleError);\n\t}\n\n/***/ },\n\n/***/ 72:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** tradedetail.dfb0da222802e51e8c84.js\n **/","import $ from 'jquery';\nimport 'component';\nimport {\n\tcloseTrade,\n\tapplyRefund,\n\tconfirmReceiptGoods\n} from '../../api/trade-api';\nimport {\n\thandleError,\n\tshowSuccessTip\n} from '../../utils/response-util.js';\nimport {\n\tpayTrade\n} from '../../utils/trade-util.js';\nimport './style';\n\n$(() => {\n\n\t// 订单操作\n\t$(document).on('click', '.js-pay-trade', e => {\n\t\tpayTrade($(e.currentTarget));\n\t})\n\t.on('click', '.js-close-trade', e => {\n\t\tconst $btn = $(e.currentTarget);\n\n\t\t$.Confirm({\n\t\t\ttitle: '提示',\n\t\t\tcontent: '确定取消订单吗？',\n\t\t\tconfirm: () => {\n\t\t\t\tcancelTrade($btn);\n\t\t\t},\n\t\t\tcancel: () => {}\n\t\t});\n\t})\n\t.on('click', '.js-show-logicinfo', e => {\n\t\tconst $btn = $(e.currentTarget);\n\t\tconst lid = $btn.data('lid');\n\n\t\twindow.location.href = `https://m.kuaidi100.com/result.jsp?nu=${lid}`;\n\t\te.stopPropagation();\n\t})\n\t.on('click', '.js-confirm-get', e => {\n\t\tconst $btn = $(e.currentTarget);\n\n\t\t$.Confirm({\n\t\t\ttitle: '提示',\n\t\t\tcontent: '确定确认收货吗？',\n\t\t\tconfirm: () => {\n\t\t\t\treceiveGoods($btn);\n\t\t\t},\n\t\t\tcancel: () => {}\n\t\t});\n\t})\n\t.on('click', '.js-apply-refund', e => {\n\t\tconst $btn = $(e.currentTarget);\n\n\t\t$.Propt({\n\t\t\ttitle: '请填写退款原因',\n\t\t\tconfirm: (event, reason) => {\n\t\t\t\taskForRefund($btn, reason);\n\t\t\t},\n\t\t\tcancel: () => {}\n\t\t});\n\t});\n});\n\nfunction reloadTrade() {\n\tsetTimeout(() => {\n\t\twindow.location.reload();\n\t}, 1500);\n}\n\nfunction cancelTrade($btn) {\n\tconst tid = $btn.data('tid');\n\n\tcloseTrade(tid).then(res => {\n\t\tconst $trade = $btn.parents('.js-trade');\n\n\t\tshowSuccessTip(res.msg);\n\t\t$trade.find('.js-trade-status').text('已关闭');\n\t\t$btn.parent().remove();\n\t}, handleError);\n}\n\nfunction receiveGoods($btn) {\n\tconst tid = $btn.data('tid');\n\n\tconfirmReceiptGoods(tid).then(res => {\n\t\tshowSuccessTip(res.msg);\n\t\treloadTrade();\n\t}, handleError);\n}\n\nfunction askForRefund($btn, reason) {\n\tconst oid = $btn.data('oid');\n\n\tapplyRefund(oid, reason).then(res => {\n\t\tshowSuccessTip(res.msg);\n\t\t$btn.replaceWith('<div class=\"itemlist-status\">已申请退款，等待卖家同意</div>');\n\t}, handleError);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./assets/pages/tradedetail/index.js\n **/"],"sourceRoot":""}