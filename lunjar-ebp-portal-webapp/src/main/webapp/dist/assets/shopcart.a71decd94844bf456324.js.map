{"version":3,"sources":["webpack:///shopcart.a71decd94844bf456324.js","webpack:///./assets/pages/shopcart/index.js","webpack:///./assets/pages/shopcart/discount-list.tpl"],"names":["webpackJsonp","0","module","exports","__webpack_require__","40","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_component","_jquery","_jquery2","_template","_template2","_itemApi","_discountList","_discountList2","Shopcart","this","init","value","popup","initEvent","setTotalPrice","getTotalPrice","initCheck","each","index","check","parent","addClass","toggleCheckAll","_this","document","on","e","editShopList","currentTarget","editShopListComplete","deleteItem","checkAll","changeNum","commit","shopDiscounts","cancel","$btn","discounts","data","console","log","Popup","render","renderContent","compile","show","$shop","parents","html","removeClass","find","_this2","Confirm","title","content","confirm","editCart","then","res","Message","remove","checkedLen","len","$checkAll","prop","$checkbox","total","$check","price","val","num","toFixed","$input","_this3","ids","$checkeds","push","window","location","join","71","87"],"mappings":"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","file":"shopcart.a71decd94844bf456324.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(40);\n\n\n/***/ },\n\n/***/ 40:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _component = __webpack_require__(3);\n\t\n\t__webpack_require__(71);\n\t\n\tvar _jquery = __webpack_require__(1);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _template = __webpack_require__(2);\n\t\n\tvar _template2 = _interopRequireDefault(_template);\n\t\n\tvar _itemApi = __webpack_require__(5);\n\t\n\tvar _discountList = __webpack_require__(87);\n\t\n\tvar _discountList2 = _interopRequireDefault(_discountList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Shopcart = function () {\n\t  function Shopcart() {\n\t    _classCallCheck(this, Shopcart);\n\t\n\t    this.init();\n\t  }\n\t\n\t  _createClass(Shopcart, [{\n\t    key: 'init',\n\t    value: function init() {\n\t      this.popup;\n\t      this.initEvent();\n\t      this.setTotalPrice(this.getTotalPrice());\n\t      this.initCheck();\n\t    }\n\t  }, {\n\t    key: 'initCheck',\n\t    value: function initCheck() {\n\t      (0, _jquery2.default)('.js-check:checked').each(function (index, check) {\n\t        (0, _jquery2.default)(check).parent().addClass('checked');\n\t      });\n\t      this.toggleCheckAll();\n\t    }\n\t  }, {\n\t    key: 'initEvent',\n\t    value: function initEvent() {\n\t      var _this = this;\n\t\n\t      (0, _jquery2.default)(document).on('click', '.js-edit', function (e) {\n\t        _this.editShopList((0, _jquery2.default)(e.currentTarget));\n\t      }).on('click', '.js-edit-complete', function (e) {\n\t        _this.editShopListComplete((0, _jquery2.default)(e.currentTarget));\n\t      }).on('click', '.js-delete', function (e) {\n\t        _this.deleteItem((0, _jquery2.default)(e.currentTarget));\n\t      }).on('change', '.js-check', function (e) {\n\t        _this.toggleCheckAll();\n\t      }).on('change', '.js-check-all', function (e) {\n\t        _this.checkAll((0, _jquery2.default)(e.currentTarget));\n\t      }).on('change', '.js-num', function (e) {\n\t        _this.changeNum((0, _jquery2.default)(e.currentTarget));\n\t      }).on('click', '.js-commit', function (e) {\n\t        _this.commit();\n\t      }).on('click', '.js-show-discounts', function (e) {\n\t        _this.shopDiscounts((0, _jquery2.default)(e.currentTarget));\n\t      }).on('click', '.js-close-popup', function () {\n\t        _this.popup.cancel();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'shopDiscounts',\n\t    value: function shopDiscounts($btn) {\n\t      var discounts = $btn.data('discounts');\n\t      console.log(discounts);\n\t      if (!this.popup) {\n\t        this.popup = new _component.Popup().render();\n\t      }\n\t      this.popup.renderContent(_template2.default.compile(_discountList2.default)({\n\t        discounts: discounts\n\t      })).show();\n\t    }\n\t  }, {\n\t    key: 'editShopList',\n\t    value: function editShopList($btn) {\n\t      var $shop = $btn.parents('.js-shop');\n\t      $btn.html('完成').removeClass('js-edit').addClass('js-edit-complete');\n\t      $shop.find('.js-edit-hide').addClass('z-hidden');\n\t      $shop.find('.js-delete').removeClass('z-hidden');\n\t    }\n\t  }, {\n\t    key: 'editShopListComplete',\n\t    value: function editShopListComplete($btn) {\n\t      var $shop = $btn.parents('.js-shop');\n\t      $btn.html('编辑').removeClass('js-edit-complete').addClass('js-edit');\n\t      $shop.find('.js-edit-hide').removeClass('z-hidden');\n\t      $shop.find('.js-delete').addClass('z-hidden');\n\t    }\n\t  }, {\n\t    key: 'deleteItem',\n\t    value: function deleteItem($btn) {\n\t      var _this2 = this;\n\t\n\t      _jquery2.default.Confirm({\n\t        title: '提示',\n\t        content: '确定删除该商品吗？',\n\t        confirm: function confirm() {\n\t          (0, _itemApi.editCart)($btn.data('id')).then(function (res) {\n\t            var $shop = $btn.parents('.js-shop');\n\t            _component.Message.show({\n\t              content: '删除成功'\n\t            });\n\t            $btn.parents('.js-item').remove();\n\t            if ($shop.find('.js-item').length === 0) {\n\t              $shop.remove();\n\t            }\n\t            if ((0, _jquery2.default)('.js-shop').length === 0) {\n\t              (0, _jquery2.default)('.js-shops').html('\\n              <div class=\"empty-list-tip\">\\n                <span class=\"empty-icon\"></span>\\n                <div class=\"empty-cnt\">您的购物车还没有商品哦！</div>\\n              </div>\\n            ');\n\t            }\n\t            _this2.setTotalPrice(_this2.getTotalPrice());\n\t          });\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'toggleCheckAll',\n\t    value: function toggleCheckAll() {\n\t      var checkedLen = (0, _jquery2.default)('.js-check:checked').length;\n\t      var len = (0, _jquery2.default)('.js-check').length;\n\t      var $checkAll = (0, _jquery2.default)('.js-check-all');\n\t      if (checkedLen > 0 && len === checkedLen) {\n\t        $checkAll.prop('checked', true).parent().addClass('checked');\n\t      } else {\n\t        $checkAll.prop('checked', false).parent().removeClass('checked');\n\t      }\n\t      this.setTotalPrice(this.getTotalPrice());\n\t    }\n\t  }, {\n\t    key: 'checkAll',\n\t    value: function checkAll($checkbox) {\n\t      if ($checkbox.prop('checked')) {\n\t        (0, _jquery2.default)('.js-check').each(function (index, check) {\n\t          (0, _jquery2.default)(check).prop('checked', true).parent().addClass('checked');\n\t        });\n\t        this.setTotalPrice(this.getTotalPrice());\n\t      } else {\n\t        (0, _jquery2.default)('.js-check').each(function (index, check) {\n\t          (0, _jquery2.default)(check).prop('checked', false).parent().removeClass('checked');\n\t        });\n\t        this.setTotalPrice(0);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getTotalPrice',\n\t    value: function getTotalPrice() {\n\t      var total = 0;\n\t      (0, _jquery2.default)('.js-check:checked').each(function (index, check) {\n\t        var $check = (0, _jquery2.default)(check);\n\t        var price = +$check.val();\n\t        var num = +$check.parents('.js-item').find('.js-num').val();\n\t        total += price * num;\n\t      });\n\t      return total;\n\t    }\n\t  }, {\n\t    key: 'setTotalPrice',\n\t    value: function setTotalPrice(price) {\n\t      (0, _jquery2.default)('.js-total').html(price.toFixed(2));\n\t    }\n\t  }, {\n\t    key: 'changeNum',\n\t    value: function changeNum($input) {\n\t      var _this3 = this;\n\t\n\t      (0, _itemApi.editCart)($input.data('id'), 1, $input.val()).then(function (res) {\n\t        _this3.setTotalPrice(_this3.getTotalPrice());\n\t      });\n\t    }\n\t  }, {\n\t    key: 'commit',\n\t    value: function commit() {\n\t      var ids = [];\n\t      var $checkeds = (0, _jquery2.default)('.js-check:checked');\n\t      if ($checkeds.length === 0) {\n\t        _component.Message.show({\n\t          content: '请选择要买的商品'\n\t        });\n\t        return;\n\t      }\n\t\n\t      $checkeds.each(function (index, check) {\n\t        ids.push((0, _jquery2.default)(check).data('id'));\n\t      });\n\t      window.location = '/trade/commitPage?ids=' + ids.join(',');\n\t    }\n\t  }]);\n\t\n\t  return Shopcart;\n\t}();\n\t\n\tnew Shopcart();\n\n/***/ },\n\n/***/ 71:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 87:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=discount-wrap> <ul> {{each discounts as discount}} <li>满 <span class=d-danger> ￥{{discount.conditions}} </span> {{if discount.discountFee}}减 <span class=d-danger> ￥{{discount.discountFee}} </span>{{/if}}{{if discount.isPost === 1}}{{if discount.discountFee}}，{{/if}}包邮{{/if}}</li> {{/each}} </ul> </div> <div class=dicount-buttons> <a href=javascript:void(0); class=js-close-popup>关闭</a> </div>\";\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** shopcart.a71decd94844bf456324.js\n **/","import {\n  Message,\n  Popup\n} from 'component';\nimport './shopcart';\n\nimport $ from 'jquery';\nimport template from 'art-template/dist/template';\nimport { editCart } from '../../api/item-api.js';\nimport tplDiscountList from './discount-list.tpl';\n\nclass Shopcart {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.popup;\n    this.initEvent();\n    this.setTotalPrice(this.getTotalPrice());\n    this.initCheck();\n  }\n\n  initCheck() {\n    $('.js-check:checked').each((index, check) => {\n      $(check).parent().addClass('checked');\n    });\n    this.toggleCheckAll();\n  }\n\n  initEvent() {\n    $(document).on('click', '.js-edit', (e) => {\n      this.editShopList($(e.currentTarget));\n    }).on('click', '.js-edit-complete', (e) => {\n      this.editShopListComplete($(e.currentTarget));\n    }).on('click', '.js-delete', (e) => {\n      this.deleteItem($(e.currentTarget));\n    }).on('change', '.js-check', (e) => {\n      this.toggleCheckAll();\n    }).on('change', '.js-check-all', (e) => {\n      this.checkAll($(e.currentTarget));\n    }).on('change', '.js-num', (e) => {\n      this.changeNum($(e.currentTarget));\n    }).on('click', '.js-commit', (e) => {\n      this.commit();\n    }).on('click', '.js-show-discounts', (e) => {\n      this.shopDiscounts($(e.currentTarget));\n    }).on('click', '.js-close-popup', () => {\n      this.popup.cancel();\n    });\n  }\n\n  shopDiscounts($btn) {\n    var discounts = $btn.data('discounts');\n    console.log(discounts);\n    if (!this.popup) {\n      this.popup = new Popup().render();\n    }\n    this.popup.renderContent(template.compile(tplDiscountList)({\n      discounts: discounts\n    })).show();\n  }\n\n  editShopList($btn) {\n    var $shop = $btn.parents('.js-shop');\n    $btn.html('完成').removeClass('js-edit').addClass('js-edit-complete');\n    $shop.find('.js-edit-hide').addClass('z-hidden');\n    $shop.find('.js-delete').removeClass('z-hidden');\n  }\n\n  editShopListComplete($btn) {\n    var $shop = $btn.parents('.js-shop');\n    $btn.html('编辑').removeClass('js-edit-complete').addClass('js-edit');\n    $shop.find('.js-edit-hide').removeClass('z-hidden');\n    $shop.find('.js-delete').addClass('z-hidden');\n  }\n\n  deleteItem($btn) {\n    $.Confirm({\n      title: '提示',\n      content: '确定删除该商品吗？',\n      confirm: () => {\n        editCart($btn.data('id')).then((res) => {\n          var $shop = $btn.parents('.js-shop');\n          Message.show({\n            content: '删除成功'\n          });\n          $btn.parents('.js-item').remove();\n          if ($shop.find('.js-item').length === 0) {\n            $shop.remove();\n          }\n          if ($('.js-shop').length === 0) {\n            $('.js-shops').html(`\n              <div class=\"empty-list-tip\">\n                <span class=\"empty-icon\"></span>\n                <div class=\"empty-cnt\">您的购物车还没有商品哦！</div>\n              </div>\n            `);\n          }\n          this.setTotalPrice(this.getTotalPrice());\n        });\n      }\n    });\n  }\n\n  toggleCheckAll() {\n    var checkedLen = $('.js-check:checked').length;\n    var len = $('.js-check').length;\n    var $checkAll = $('.js-check-all');\n    if (checkedLen > 0 && len === checkedLen) {\n      $checkAll.prop('checked', true).parent().addClass('checked');\n    } else {\n      $checkAll.prop('checked', false).parent().removeClass('checked');\n    }\n    this.setTotalPrice(this.getTotalPrice());\n  }\n\n  checkAll($checkbox) {\n    if ($checkbox.prop('checked')) {\n      $('.js-check').each((index, check) => {\n        $(check).prop('checked', true).parent().addClass('checked');\n      });\n      this.setTotalPrice(this.getTotalPrice());\n    } else {\n      $('.js-check').each((index, check) => {\n        $(check).prop('checked', false).parent().removeClass('checked');\n      });\n      this.setTotalPrice(0);\n    }\n  }\n\n  getTotalPrice() {\n    var total = 0;\n    $('.js-check:checked').each((index, check) => {\n      var $check = $(check);\n      var price = +$check.val();\n      var num = +$check.parents('.js-item').find('.js-num').val();\n      total += price * num;\n    });\n    return total;\n  }\n\n  setTotalPrice(price) {\n    $('.js-total').html(price.toFixed(2));\n  }\n\n  changeNum($input) {\n    editCart($input.data('id'), 1, $input.val()).then(res => {\n      this.setTotalPrice(this.getTotalPrice());\n    });\n  }\n\n  commit() {\n    var ids = [];\n    var $checkeds = $('.js-check:checked');\n    if ($checkeds.length === 0) {\n      Message.show({\n        content: '请选择要买的商品'\n      })\n      return;\n    }\n\n    $checkeds.each((index, check) => {\n      ids.push($(check).data('id'));\n    });\n    window.location = `/trade/commitPage?ids=${ids.join(',')}`\n  }\n}\n\nnew Shopcart();\n\n\n/** WEBPACK FOOTER **\n ** ./assets/pages/shopcart/index.js\n **/","module.exports = \"<div class=discount-wrap> <ul> {{each discounts as discount}} <li>满 <span class=d-danger> ￥{{discount.conditions}} </span> {{if discount.discountFee}}减 <span class=d-danger> ￥{{discount.discountFee}} </span>{{/if}}{{if discount.isPost === 1}}{{if discount.discountFee}}，{{/if}}包邮{{/if}}</li> {{/each}} </ul> </div> <div class=dicount-buttons> <a href=javascript:void(0); class=js-close-popup>关闭</a> </div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./assets/pages/shopcart/discount-list.tpl\n ** module id = 87\n ** module chunks = 4\n **/"],"sourceRoot":""}